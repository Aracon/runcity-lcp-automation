# Использование скрипта для генерации SQL для ввода команд

Открыть страницу полиграфии, а затем список команд для колл-центра. Поменять последний параметр в адресной строке на большее число (например, 100), чтобы все команды попали на одну страницу.

Открыть исходный код страницы.

Для каждой категории выполнить следующие действия.

Выделить/скопировать код, соответствующий командам (от первого tr до последнего /tr).

Посмотреть номер категории в базе данных:

~~~
mysql> SELECT route.id, prefix FROM route LEFT JOIN category ON category__id=category.id ORDER BY route.id;
+----|--------+
| id | prefix |
+----|--------+
|  1 | 8      |
|  2 | 3      |
|  3 | P4     |
|  4 | L4     |
|  5 | 7      |
+----|--------+
~~~

Запустить скрипт генерации, задав параметры `route` (идентификатор категории из таблицы выше) и `start` (час начала стартов). На стандартный вход подаётся выделенный/скопированный HTML-код. Например:

~~~
$ xclip -o | start=9 route=3 awk -f scripts/generate-sql.awk

INSERT INTO team (id, route__id, team_number, name, start_date, contact, status) VALUES
(10700, 5, "700", "Великая команда", "2018-09-09 09:00:00", "+79265865079", "1"), 
(10701, 5, "701", "Птица гордая", "2018-09-09 09:02:00", "+79164443946", "1"), 
(10702, 5, "702", "ReadySetGo", "2018-09-09 09:04:00", "+79254869776", "1"), 
(10703, 5, "703", "Корюшка в тартарарах", "2018-09-09 09:06:00", "+79219366846", "1"), 
(10704, 5, "704", "Quequesique", "2018-09-09 09:08:00", "+79003245577", "1"), 
(10705, 5, "705", "Мультифора", "2018-09-09 09:10:00", "+79153318551", "1"), 
(10706, 5, "706", "Космос", "2018-09-09 09:12:00", "+79600363321‬", "1"), 
(10707, 5, "707", "Гуси-лебеди", "2018-09-09 09:14:00", "89165641504", "1"), 
(10708, 5, "708", "Тегермән", "2018-09-09 09:16:00", "+79096794506", "1"), 
(10709, 5, "709", "Можелюк и КО", "2018-09-09 09:18:00", "+79826245338", "1"),
~~~

Выделить весь код, заменить в последней строке запятую на точку с запятой и выполнить в mysql

